sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/ui/core/Fragment","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/m/Dialog","sap/m/Button","sap/m/Label","sap/m/library","sap/m/MessageToast","sap/m/Text","sap/m/TextArea","sap/ui/model/json/JSONModel"],function(e,t,r,a,n,o,i,s,u,l,c,g,d){"use strict";var f=u.ButtonType;var p=u.DialogType;return e.extend("frontend.bbs.controller.advanceRealization.List",{onInit:function(){this.getView().byId("advanceRealizationTableID").setBusy(true);var e=this.getRouter().getHashChanger().getHash();var t=jQuery.sap.storage(jQuery.sap.storage.Type.local);this.oJWT=t.get("jwt");var r=new d;r.loadData(backendUrl+"advanceRequest/getAdvanceRequests",null,true,"GET",false,false,{Authorization:"Bearer "+this.oJWT});this.getView().setModel(r,"advanceRealization");r.dataLoaded().then(function(){this.getView().byId("advanceRealizationTableID").setBusy(false)}.bind(this))},onCreateButtonClick:function(e){if(!this.createBudgetingDialog){this.createBudgetingDialog=this.loadFragment({name:"frontend.bbs.view.budgeting.CreateForm"})}this.createBudgetingDialog.then(function(e){this.oDialog=e;this.oDialog.open();var t=new sap.ui.model.json.JSONModel;var r=[];t.setData(r);this.getView().setModel(t,"budgetingDetailModel");this._oMessageManager.registerObject(this.oView.byId("formContainer"),true)}.bind(this))},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},onNavBack:function(e){var r,a;r=t.getInstance();a=r.getPreviousHash();if(a!==undefined){window.history.go(-1)}else{this.getRouter().navTo("login",{},true)}},_closeDialog:function(){this.oDialog.close()},buttonFormatter:function(e){if(e==2||e==3){return"Accept"}else if(e==1){return"Attention"}else{return"Reject"}},objectFormatter:function(e){if(e==2||e==3){return"Success"}else if(e==1){return"Warning"}else{return"Error"}},textFormatter:function(e){if(e==1){return"Pending"}else if(e==2){return"Approved by Manager"}else if(e==3){return"Approved by Director"}else{return"Rejected"}},realizationButtonFormatter:function(e){if(e==3||e==4){return"Accept"}else if(e==1||e==2){return"Attention"}else{return"Reject"}},relizationTextFormatter:function(e){if(e==1){return"Pending"}else if(e==2){return"Submitted"}else if(e==3){return"Approved by Manager"}else if(e==4){return"Approved by Director"}else{return"Rejected"}},onPress:function(e){var t=this.getOwnerComponent().getRouter();var r=e.getSource();var a=r.getCells()[0].getText();t.navTo("advanceRealizationDetail",{ID:a})},dateFormatter:function(e){var t=new Date(e);var r=sap.ui.core.format.DateFormat.getDateInstance({pattern:"YYYY-MM-dd"});var a=r.format(t);return a}})});