sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";return e.extend("frontend.bbs.controller.materialRequest.Detail",{onInit:async function(){var e=this.getOwnerComponent();this.oRouter=e.getRouter();this.oRouter.getRoute("materialRequestDetail").attachPatternMatched(this._onObjectMatched,this);var t=new o(sap.ui.require.toUrl("frontend/bbs/model/companies.json"));this.getView().setModel(t,"companies")},_onObjectMatched:function(e){this.getView().bindElement({path:"/value/"+window.decodeURIComponent(e.getParameter("arguments").materialRequestID),model:"materialRequest"});const t=this.getView().getModel("materialRequest");var a=t.getProperty("/value/"+window.decodeURIComponent(e.getParameter("arguments").materialRequestID));console.log(a);const n=new o(a);this.getView().setModel(n,"materialRequestDetailModel");const r=new o;this.getView().setModel(r,"budget");var s=jQuery.sap.storage(jQuery.sap.storage.Type.local);this.oJWT=s.get("jwt");r.loadData(backendUrl+"budget/getBudgetById?code="+a.U_BudgetCode,null,true,"GET",false,false,{Authorization:"Bearer "+this.oJWT});var i=new o;i.loadData(backendUrl+"getBudget",null,true,"GET",false,false,{Authorization:"Bearer "+this.oJWT});this.getOwnerComponent().setModel(i,"budgeting")},onNavBack:function(){var e=t.getInstance();var o=e.getPreviousHash();if(o!==undefined){window.history.go(-1)}else{var a=this.getOwnerComponent().getRouter();a.navTo("dashboard",{},true)}}})});