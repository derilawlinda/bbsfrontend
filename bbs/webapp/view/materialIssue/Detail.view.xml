<mvc:View xmlns:cards="sap.f.cards" 
controllerName="frontend.bbs.controller.materialIssue.Detail"
xmlns:mvc="sap.ui.core.mvc"
xmlns="sap.m"
xmlns:f="sap.f"
xmlns:form="sap.ui.layout.form"
xmlns:table="sap.ui.table"
xmlns:core="sap.ui.core"
>
  <Page  id="materialIssuePage" showNavButton="true"
		navButtonPress=".onNavBack"
		showFooter="{= ${materialIssueDetailModel>U_Status} === 1 ? true : false }">
    
    <content>
      <VBox class="sapUiSmallMargin" id="formContainer">
				<form:SimpleForm id="SimpleFormChangeColumn_twoGroups234"
						editable="true"
                        layout="ColumnLayout"
                        columnsM="2"
                        columnsL="2"
                        columnsXL="2">
					<form:content>
                    <core:Title id="_IDGenTitle1" text="Information" />

                        <Label id="_IDGenLabel101" text="ID" />
						<Text id="_IDGenText101" text="{materialIssueDetailModel>/Code}" />

                        <Label id="_IDGenLabel1" text="Date" />
						<Text id="_IDGenText1" text="{materialIssueDetailModel>/CreateDate}" />

                        <Label id="_IDGenLabel2" text="Name" />
						<Input id="name" value="{materialIssueDetailModel>/Name}"
						editable="{viewModel>/editable}"></Input>

						<Label id="_IDGenLabel3" text="Company" />
						<Text id="_IDGenText5"  text="{budget>/U_Company}"/>

						<Label id="_IDGenLabel4" text="Sales Order" />
						<Text id="_IDGenText4"  text="{budget>/U_SalesOrder}"/>
						
						 <Label id="_IDGenLabelAmunt" text="Amount" />
						<Text text="{materialIssueDetailModel>/U_Amount}"/>


						<core:Title id="_IDGenTitle2" text="Category Information" />

						<Label text="Budget#" />
						<ComboBox width="100%"
								change="onBudgetChange"
								value="{materialIssueDetailModel>/U_BudgetCode}"
								selectionChange="onSelectionChange"
								showSecondaryValues="true"
								editable="{viewModel>/editable}"
								items="{
								path: 'budgeting>/value',
								templateShareable: false
								}"
							>

								<core:ListItem
									key="{budgeting>Code}"
									text="{budgeting>Code}"
									additionalText="{budgeting>Name}"
								/>

						</ComboBox>
						
						<Label id="_IDGenLabel5" text="Project" />
						<Text text="{budget>/U_Project}"/>

                        <Label id="_IDGenLabel441" text="Pillar" />
						<Text text="{budget>/U_Pillar}"/>


                       <Label id="_IDGenLabel442" text="Classification" />
						<Text text="{budget>/U_Classification}"/>

                       <Label id="_IDGenLabel443" text="Subclass" />

						<Text text="{budget>/U_SubClass}"/>
						
                        <Label id="_IDGenLabel444" text="Subclass2" />
						<Text text="{budget>/U_SubClass2}"/>
					</form:content>
				</form:SimpleForm>

				<table:Table id="tableId" 
                        rows="{materialIssueDetailModel>/MATERIALISSUELINESCollection}"
						visibleRowCount="7"
						 
				>

				<table:extension>
					<OverflowToolbar  class="sapMTBHeader-CTX">
						<Title text="Items"/>
					</OverflowToolbar>
				</table:extension>
		                  
				<table:columns>
					<table:Column >
						<Text text="Account Code" />
						<table:template>
							<ComboBox width="100%"
								showSecondaryValues= "true"
								filterSecondaryValues= "true"
								selectedKey="{materialIssueDetailModel>U_AccountCode}"
								value="{materialIssueDetailModel>U_AccountCode}"
								editable="{viewModel>/editable}"
								items="{
								path: 'accounts>/data',
								templateShareable: true
								}"
							>

								<core:ListItem
									key="{accounts>account_code}"
									text="{accounts>account_code}"
									additionalText="{accounts>account_name}"
								/>

							</ComboBox>
						</table:template>
					</table:Column>

					<table:Column >
						<Text text="Item Name" />
						<table:template>
							<Input
								type="Text"
								placeholder="Enter item"
								editable="{viewModel>/editable}"
								value="{materialIssueDetailModel>U_ItemCode}"
								ariaLabelledBy="InputNumberLabel"/>
						</table:template>
					</table:Column>

					

					<table:Column >
						<Text text="Quantity" />
						<table:template>
							<Input
								type="Number"
								placeholder="Enter Quantity"
								editable="{viewModel>/editable}"
								value="{materialIssueDetailModel>U_Qty}"
								ariaLabelledBy="InputNumberLabel"
								/>
						</table:template>
					</table:Column>

				</table:columns>

				
                </table:Table>

                
			</VBox>
    </content>
	<footer  >
				<Toolbar>
					<ToolbarSpacer />
                    <Button type="Emphasized" text="Save" press="onSaveButtonClick" />
				    <Button text="Cancel" press="._closeDialog" />
				</Toolbar>
		</footer>
  </Page>

  
</mvc:View>